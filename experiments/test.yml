# Author: Michael Sevilla
# Start Tachyon

#- hosts: all
#  roles:
#    - tachyon

- hosts: localhost
  tasks:
    - name: pull the code
      docker: 
        name: tachyon-container
        image: michaelsevilla/hathisar-dev
        state: reloaded 
        volumes: /tmp/docker:/docker
        command: echo "hellO"
      
    #- include: ../roles/tachyon/tasks/get_src.yml
    #- include: ../roles/tachyon/tasks/config.yml
    #- include: ../roles/tachyon/tasks/pkg_src.yml


#- hosts: all
#  tasks:
#    - name: download Tachyon source
#    - name: create Tachyon container
#      docker:
#        name: tachyon-container
#        image: michaelsevilla/hathisar-dev
#        state: present

        

#- hosts: TachyonMaster
#  tasks:
#    - name: start the tachyon master
#      command: docker run --env="JAVA_HOME=blah" michaelsevilla/hathisar-dev /opt/tachyon-0.7.1/bin/tachyon-start.sh master -f
#      #command: docker run --env="JAVA_HOME=blah" michaelsevilla/hathisar-dev env
     

#- hosts: TachyonMaster
#  tasks:
#    - name: format tacyhon tfs
#    - name: start tachyon-master
#
#- hosts: all
#  tasks:
#    - name: start tachyon-slave
